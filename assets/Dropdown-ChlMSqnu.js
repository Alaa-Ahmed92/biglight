import{d as p,A as w,y as m,u as t}from"./iframe-B07M51QV.js";const $=({options:s,value:i,onChange:g,label:x,disabled:o=!1,required:v,className:k="",icon:h})=>{const[r,l]=p(!1),[a,c]=p(-1),d=w(null),u=w(null),f=s.find(e=>e.value===i);m(()=>{const e=n=>{d.current&&!d.current.contains(n.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),m(()=>{if(r){const e=s.findIndex(n=>n.value===i);c(e>=0?e:0)}},[r]),m(()=>{if(r&&u.current&&a>=0){const e=u.current.children[a];e&&e.scrollIntoView({block:"nearest"})}},[a,r]);const b=e=>{o||(g?.(e),l(!1))},y=()=>{o||l(!r)},N=e=>{if(!o)switch(e.key){case"Enter":e.preventDefault(),r?a>=0&&a<s.length&&b(s[a].value):l(!0);break;case"ArrowDown":e.preventDefault(),r?c(n=>(n+1)%s.length):l(!0);break;case"ArrowUp":e.preventDefault(),r?c(n=>(n-1+s.length)%s.length):l(!0);break;case"Escape":e.preventDefault(),l(!1);break}},D=r||!!f;return t("div",{className:`relative w-full ${k}`,ref:d,children:[t("button",{type:"button",className:`relative w-full text-left h-[52px] bg-background-brand-primary border-xs border-border rounded-md px-sm py-md flex justify-between items-center transition-all focus:border-md ${o?"bg-button-disabled-surface border-button-disabled-surface cursor-not-allowed text-disabled":"cursor-pointer"} ${f?"border-lg bg-background":""}`,onClick:y,onKeyDown:N,"aria-haspopup":"listbox","aria-expanded":r,disabled:o,children:[x&&t("div",{className:"flex items-center",children:[h&&t("span",{children:t("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M7.46667 3.46672V7.46672L10.1333 8.80005M14.1333 7.46672C14.1333 11.1486 11.1486 14.1334 7.46667 14.1334C3.78477 14.1334 0.8 11.1486 0.8 7.46672C0.8 3.78482 3.78477 0.800049 7.46667 0.800049C11.1486 0.800049 14.1333 3.78482 14.1333 7.46672Z",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})})}),t("label",{className:`absolute ${h?"left-xl":"left-xs"} bg-background-brand-primary px-1 transition-all duration-200 pointer-events-none z-10 ${D?"translate-y-[-26px] left-xs text-xs text-primary-text bg-white px-2xs":"-translate-y-0 text-action-md text-passive"}`,children:x}),t("span",{className:"ml-2 pr-md",children:f?.label})]}),t("span",{className:`pointer-events-none absolute inset-y-0 right-3 flex items-center transition-transform duration-200 ${r?"rotate-180":""} ${o?"text-disabled":"text-secondary"}`,children:t("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M0.800003 0.800049L4.8 4.80005L8.8 0.800049",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})})})]}),r&&t("ul",{ref:u,className:"absolute z-[99] mt-xs max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-dropdown ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",role:"listbox",children:s.map((e,n)=>t("li",{className:`relative cursor-pointer select-none px-sm py-sm text-text ${a===n?"bg-tertiary-hover":""} hover:bg-tertiary-hover`,role:"option","aria-selected":e.value===i,onClick:()=>b(e.value),onMouseEnter:()=>c(n),children:t("span",{className:`block truncate ${e.value===i?"font-semibold":"font-normal"}`,children:e.label})},e.value))}),v&&t("p",{className:"mt-xs text-body-xs text-disabled",children:[t("span",{className:"text-warning-surface",children:"*"}),"required"]})]})};export{$ as D};
